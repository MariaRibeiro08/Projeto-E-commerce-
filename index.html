<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="{{ url_for('static', path='uploads/Logo_SF_Branca.PNG') }}" type="image/x-icon">
<title>Zados - Catálogo</title>
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: #fff; color: #000; line-height: 1.6; overflow-x: hidden; min-height: 100vh; }

    /* ===== HEADER ===== */
    header {
        position: relative;
        background: url("{{ url_for('static', path='uploads/INIC.PNG') }}") no-repeat center center/cover;
        padding: clamp(80px, 15vw, 150px) 20px clamp(30px, 5vw, 50px);
        text-align: center;
        color: #fff;
        min-height: 100vh;
        max-height: 1000px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .logo {
        position: absolute;
        top: 15px;
        left: 15px;
        width: clamp(80px, 12vw, 170px);
        height: auto;
        z-index: 10;
    }

    nav {
        position: absolute;
        top: 30px;
        right: 30px;
        display: flex;
        align-items: center;
        gap: 15px;
        z-index: 10;
    }

    .nav_item {
        display: inline-block;
        text-decoration: none;
        color: #fff !important;
        font-size: clamp(14px, 3vw, 18px);
        padding: 6px 8px;
        transition: 0.3s;
        font-weight: 500;
        font-size: 20px;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
    }

    .nav_item:hover { 
        color: #ccc !important; 
        transform: translateY(-2px); 
    }

    .headerimg { 
        display: flex;
        align-items: center;         
    }
    .headerimg img { 
        width: 28px; 
        height: 28px; 
        object-fit: contain; 
        filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.7)); 
    }

    .botao_entrar {
        background: #fff;
        color: #000;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        transition: 0.3s;
        height: 40px;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: clamp(13px, 2.5vw, 15px);
        white-space: nowrap;
        font-weight: 600;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .botao_entrar:hover { 
        background: #000; 
        color: #fff; 
        transform: translateY(-2px); 
    }

    .user-icon-header {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #fff;
        color: #000;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s;
        border: 2px solid #fff;
        text-decoration: none;
        flex-shrink: 0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .user-icon-header:hover { 
        background: #000; 
        color: #fff; 
        border-color: #000; 
        transform: scale(1.1); 
    }

    .ttl h1 {
        font-size: clamp(36px, 8vw, 60px);
        margin-top: 20px;
        line-height: 1.2;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7);
        font-weight: 700;
    }

    .meio {
        margin-top: 20px;
        font-size: clamp(16px, 4vw, 24px);
        padding: 0 10px;
    }

    .meio p { 
        margin-bottom: 20px; 
        text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7); 
        font-weight: 400; 
    }
    .meio a {
        padding: 12px 24px;
        font-size: clamp(14px, 3vw, 18px);
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: #fff;
        color: #000;
        transition: 0.3s;
        text-decoration: none;
        display: inline-block;
        margin-top: 10px;
        font-weight: 600;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
    }

    .meio a:hover { 
        background: #000; 
        color: #fff; 
        transform: translateY(-2px); 
    }

    /* ===== BARRA LATERAL (IGUAL AO DASHBOARD) ===== */
    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        display: none;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .sidebar-overlay.active { 
        display: block; 
        opacity: 1; 
    }

    .user-sidebar {
        position: fixed;
        top: 0;
        right: -100%;
        width: 100%;
        max-width: 380px;
        height: 100vh;
        background: #fff;
        box-shadow: -5px 0 25px rgba(0, 0, 0, 0.1);
        transition: right 0.3s ease;
        z-index: 1001;
        padding: 30px 25px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }

    .user-sidebar.active { 
        right: 0; 
    }

    .sidebar-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #f0f0f0;
    }

    .user-avatar {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: #000;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        font-weight: bold;
        border: 3px solid #000;
        flex-shrink: 0;
    }

    .user-info-sidebar h3 { 
        font-size: 20px; 
        margin-bottom: 5px; 
        color: #000; 
    }
    .user-info-sidebar p { 
        color: #666; 
        font-size: 14px; 
        word-break: break-all; 
    }

    .sidebar-menu {
        list-style: none;
        margin-bottom: 30px;
        flex-grow: 1;
    }

    .sidebar-menu li { 
        margin-bottom: 8px; 
    }
    .sidebar-menu a {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 15px;
        text-decoration: none;
        color: #333;
        border-radius: 8px;
        transition: all 0.3s;
        font-size: 15px;
    }

    .sidebar-menu a:hover { 
        background: #f5f5f5; 
        color: #000; 
    }
    .sidebar-menu a.active { 
        background: #000; 
        color: #fff; 
    }
    .menu-icon { 
        font-size: 16px; 
        width: 20px; 
        text-align: center; 
    }

    .btn-sair {
        background: #ff4444;
        color: #fff;
        border: none;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        width: 100%;
        font-size: 15px;
        transition: background 0.3s;
        margin-top: 20px;
    }

    .btn-sair:hover { 
        background: #cc0000; 
    }

    /* ===== FILTROS ===== */
    .filtro {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        padding: 20px;
        background: #f9f9f9;
        border-bottom: 1px solid #eee;
        margin-bottom: 30px;
    }

    .item_filtro {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .item_filtro label {
        font-size: 14px;
        font-weight: 600;
        color: #333;
    }

    .item_filtro select {
        padding: 10px 12px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
        background: white;
        cursor: pointer;
        transition: border 0.3s;
    }

    .item_filtro select:focus {
        border-color: #000;
        outline: none;
    }

    /* ===== PRODUTOS ===== */
    .produtos {
        padding: 20px;
        max-width: 1400px;
        margin: 0 auto;
    }

    .produtos h2 {
        text-align: center;
        font-size: 28px;
        margin-bottom: 30px;
        color: #000;
    }

    .produtos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
    }

    .produto-card {
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        border: 1px solid #eee;
    }

    .produto-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .produto-card img {
        width: 100%;
        object-fit: cover;
    }

    .produto-info {
        padding: 40px;
    }

    .produto-info h3 {
        font-size: 18px;
        margin-bottom: 10px;
        color: #000;
        line-height: 1.3;
    }

    .produto-info p {
        color: #666;
        font-size: 14px;
        margin-bottom: 15px;
        line-height: 1.5;
    }

    .produto-info span {
        font-size: 20px;
        font-weight: bold;
        color: #000;
        display: block;
        margin-bottom: 10px;
    }

    .cores-label {
        font-size: 14px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
    }

    .cores-disponiveis {
        display: flex;
        gap: 8px;
        margin-bottom: 15px;
        flex-wrap: wrap;
    }

    .cor-bolinha {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

    .cor-bolinha:hover { transform: scale(1.1); }
    .cor-bolinha.ativa { border-color: #000; }

    .btn_ver {
        display: inline-block;
        background: #000;
        color: white;
        padding: 10px 20px;
        border-radius: 6px;
        text-decoration: none;
        font-size: 14px;
        font-weight: 600;
        transition: background 0.3s;
        margin-top: 10px;
    }

    .btn_ver:hover { background: #333; }

    .ver_mais {
        text-align: center;
        margin-top: 30px;
    }

    #verMaisBtn {
        background: #000;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: background 0.3s;
    }

    #verMaisBtn:hover { background: #333; }

    /* ===== COLEÇÃO ===== */
    .colecao {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        padding: 60px 20px;
        background: #f9f9f9;
        margin-top: 60px;
        align-items: center;
    }

    .clc_txt h3 {
        font-size: 32px;
        margin-bottom: 20px;
        color: #000;
    }

    .clc_txt p {
        color: #666;
        margin-bottom: 15px;
        line-height: 1.6;
    }

    .btn_clc {
        display: inline-block;
        background: #000;
        color: white;
        padding: 12px 25px;
        border-radius: 6px;
        text-decoration: none;
        font-weight: 600;
        margin-top: 20px;
        transition: background 0.3s;
    }

    .btn_clc:hover { background: #333; }

    .colecao img {
        width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    /* ===== TECNOLOGIA ===== */
    .alt_tec {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        padding: 60px 20px;
        align-items: center;
    }

    .alt_tec img {
        width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .alt_txt h3 {
        font-size: 32px;
        margin-bottom: 20px;
        color: #000;
    }

    .alt_txt p {
        color: #666;
        margin-bottom: 15px;
        line-height: 1.6;
    }

    /* ===== FOOTER ===== */
    .footer-end {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 40px;
        background: url("{{ url_for('static', path='uploads/Footer-home.PNG') }}") no-repeat center/cover;
        padding: 50px 60px;
        margin-top: 60px;
    }

    .footer-col h4 { 
        font-size: 18px; 
        margin-bottom: 12px; 
        color: #000;
    }

    .footer-col ul { 
        list-style: none; 
        padding:0; 
        margin:0; 
    }

    .footer-col ul li { 
        margin: 6px 0; 
    }

    .footer-col ul li a { 
        text-decoration:none; 
        color:#000; 
        font-size:14px;
        transition: color 0.3s;
    }

    .footer-col ul li a:hover { color: #666; }

    .footer-col .social { 
        margin-top: 15px; 
    }

    .footer-col .social img { 
        width: 45px; 
        margin-right: 10px;
        transition: transform 0.3s;
    }

    .footer-col .social img:hover { transform: scale(1.1); }

    .saiba_btn {
        display: inline-block;
        font-size: 14px;
        margin-top: 20px; 
        padding: 8px 16px;
        background-color: #000;
        color: white;
        cursor: pointer;
        border: none;
        border-radius: 4px;
        text-decoration: none;
        transition: background 0.3s;
    }

    .saiba_btn:hover { background: #333; }

    /* ===== RESPONSIVO ===== */
    @media (max-width: 1024px) {
        .colecao, .alt_tec { grid-template-columns: 1fr; }
        .footer-end { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 768px) {
        .filtro { grid-template-columns: repeat(2, 1fr); }
        .produtos-grid { grid-template-columns: repeat(2, 1fr); }
        .footer-end { grid-template-columns: 1fr; padding: 30px; }
        nav { gap: 10px; }
        .nav_item { display: none; }
        .user-sidebar { width: 70%; max-width: none; }
    }

    @media (max-width: 480px) {
        .filtro { grid-template-columns: 1fr; }
        .produtos-grid { grid-template-columns: 1fr; }
        .headerimg img { width: 24px; height: 24px; }
        .botao_entrar { padding: 6px 12px; height: 36px; }
        .user-icon-header { width: 36px; height: 36px; }
        .sidebar-header { flex-direction: column; text-align: center; }
        .user-avatar { width: 60px; height: 60px; }
    }

    /* Touch devices */
    @media (hover: none) and (pointer: coarse) {
        .nav_item, .botao_entrar, .user-icon-header, .sidebar-menu a, .btn-sair {
            min-height: 44px;
            min-width: 44px;
        }
    }

    /* Melhorias de acessibilidade */
    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
        outline: 2px solid #000;
        outline-offset: 2px;
    }
</style>
</head>
<body>

<!-- HEADER -->
<header>
    <img class="logo" src="{{ url_for('static', path='uploads/Logo_SF_Branca.png') }}" alt="Logo_Zados">
    <nav>
        <a href="/home" class="nav_item">HOME</a>
        <a href="/home" class="headerimg"><img src="{{ url_for('static', path='uploads/casa_branca.png') }}" alt="home"></a>
        <a href="/carrinho" class="nav_item">CARRINHO</a>
        <a href="/carrinho" class="headerimg"><img src="{{ url_for('static', path='uploads/carrinho_branco.png') }}" alt="carrinho"></a>
        
        {% if is_admin %}
            <a href="/lista_adm" class="nav_item">ADMIN</a>
        {% endif %}
        
        {% if usuario %}
            <div class="user-icon-header" onclick="toggleUserSidebar()">
                {{ usuario.nome[0]|upper if usuario.nome else 'U' }}
            </div>
        {% else %}
            <a class="botao_entrar" href="/login">ENTRAR</a>
        {% endif %}
    </nav>
    
    <div class="ttl"><h1>ZADOS</h1></div>
    <div class="meio">
        <p>Trazendo para você a melhor solução</p><br>
        <a href="#produtos-grid">Ver Produtos</a>
    </div>
</header>

<!-- BARRA LATERAL DO USUÁRIO -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleUserSidebar()"></div>
<div class="user-sidebar" id="userSidebar">
    <div class="sidebar-header">
        <div class="user-avatar">
            {{ usuario.nome[0]|upper if usuario.nome else 'U' }}
        </div>
        <div class="user-info-sidebar">
            <h3>{{ usuario.nome if usuario else 'Usuário' }}</h3>
            <p>{{ usuario.email if usuario else 'email@exemplo.com' }}</p>
        </div>
    </div>

    <ul class="sidebar-menu">
        <li><a href="/dashboard">Dashboard</a></li>
        <li><a href="/dashboard/perfil">Meu Perfil</a></li>
        <li><a href="/carrinho">Meu Carrinho</a></li>
        <li><a href="/">Continuar Comprando</a></li>
    </ul>

    <button class="btn-sair" onclick="window.location.href='/logout'">Sair da Conta</button>
</div>

<!-- SISTEMA DE FILTRO -->
<section class="filtro">
    <div class="item_filtro">
        <label for="categoria">Categoria</label>
        <select id="categoria">
            <option value="">Todas</option>
            {% for categoria in categorias %}
            <option value="{{ categoria.nome|lower }}">{{ categoria.nome }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="item_filtro">
        <label for="tamanho">Tamanho</label>
        <select id="tamanho">
            <option value="">Todos</option>
            <option value="pp">PP</option>
            <option value="p">P</option>
            <option value="m">M</option>
            <option value="g">G</option>
            <option value="gg">GG</option>
        </select>
    </div>

    <div class="item_filtro">
        <label for="cor">Cor</label>
        <select id="cor">
            <option value="">Todas</option>
            <option value="preto">Preto</option>
            <option value="branco">Branco</option>
            <option value="vermelho">Vermelho</option>
            <option value="azul">Azul</option>
            <option value="verde">Verde</option>
            <option value="cinza">Cinza</option>
            <option value="rosa">Rosa</option>
            <option value="amarelo">Amarelo</option>
            <option value="laranja">Laranja</option>
            <option value="roxo">Roxo</option>
            <option value="marrom">Marrom</option>
            <option value="bege">Bege</option>
        </select>
    </div>

    <div class="item_filtro">
        <label for="ordem">Ordenar</label>
        <select id="ordem">
            <option value="relevancia">Relevância</option>
            <option value="menor-preco">Menor Preço</option>
            <option value="maior-preco">Maior Preço</option>
            <option value="nome">Nome A-Z</option>
        </select>
    </div>

    <div class="item_filtro">
        <label for="preco">Preço</label>
        <select id="preco">
            <option value="">Todos</option>
            <option value="0-50">Até R$ 50</option>
            <option value="50-100">R$ 50 - R$ 100</option>
            <option value="100-150">R$ 100 - R$ 150</option>
            <option value="150+">Acima de R$ 150</option>
        </select>
    </div>
</section>

<!-- PRODUTOS -->
<section class="produtos">
    <h2>NOSSOS PRODUTOS</h2>
    <div class="produtos-grid" id="produtos-grid">
        {% for produto in produtos %}
        <div class="produto-card" 
             data-categoria="{{ produto.categoria.nome|lower if produto.categoria else '' }}" 
             data-tamanho="{{ produto.tamanho|lower if produto.tamanho else '' }}" 
             data-cor="{{ produto.cor|lower if produto.cor else '' }}" 
             data-preco="{{ produto.preco }}"
             data-nome="{{ produto.nome|lower }}">
            <img src="{{ url_for('static', path='uploads/' + produto.imagem) if produto.imagem else url_for('static', path='default.png') }}" 
                 alt="{{ produto.nome }}" 
                 onerror="this.src='{{ url_for('static', path='default.png') }}'">
            <div class="produto-info">
                <h3>{{ produto.nome }}</h3>
                
                <div class="cores-label">Cores Disponíveis:</div>
                <div class="cores-disponiveis">
                    <div class="cor-bolinha ativa" data-cor="{{ produto.cor }}" title="{{ produto.cor }}"></div>
                    
                    {% if produto.outras_cores %}
                        {% for cor in produto.outras_cores %}
                        <div class="cor-bolinha" data-cor="{{ cor }}" title="{{ cor }}"></div>
                        {% endfor %}
                    {% endif %}
                </div>

                <p>{{ produto.descricao[:100] }}{% if produto.descricao and produto.descricao|length > 100 %}...{% endif %}</p>
                <span>R$ {{ "%.2f"|format(produto.preco) }}</span><br>
                
                {% if produto.categoria %}
                <small style="color: #666; font-size: 12px; display: block; margin: 5px 0;">
                    Categoria: {{ produto.categoria.nome }}
                </small>
                {% endif %}

                <small style="color: #888; font-size: 11px; display: block;">
                    Tamanho: {{ produto.tamanho }} | Cor: {{ produto.cor }}
                </small>
                
                <a href="/produtos/{{ produto.id }}" class="btn_ver">Ver Detalhes</a>
            </div>
        </div>
        {% endfor %}
    </div>

    {% if produtos|length > 8 %}
    <div class="ver_mais">
        <button id="verMaisBtn" onclick="verMaisProdutos()">Carregar Mais Produtos</button>
    </div>
    {% endif %}
</section>

<!-- SEÇÃO COLEÇÃO -->
<section class="colecao">
    <div class="clc_txt">
        <h3>Nova Coleção Verão 2024</h3>
        <p>Descubra nossa exclusiva coleção de verão, pensada para oferecer conforto e estilo em cada peça. Desenvolvida com tecidos de alta qualidade e tecnologia avançada de respirabilidade.</p>
        <p>Com designs modernos e cortes que valorizam o seu corpo, cada peça foi cuidadosamente elaborada para se adaptar ao seu estilo de vida ativo.</p>
        <div class="btns">
            <a href="/sobre" class="btn_clc">Conheça a Zados</a>
        </div>
    </div>
    <img src="{{ url_for('static', path='uploads/Nova Coleção Catalogo.PNG') }}" alt="Nova Coleção Verão 2024"/>
</section>

<!-- SEÇÃO TECNOLOGIA -->
<section class="alt_tec">
    <img src="{{ url_for('static', path='uploads/Alta tecnologia catalogo.PNG') }}" alt="Tecnologia Avançada"/>
    <div class="alt_txt">
        <h3>Tecnologia e Conforto</h3>
        <p>Na Zados, unimos tecnologia de ponta com o savoir-faire tradicional para criar peças que realmente fazem a diferença no seu dia a dia.</p>
        <p>Utilizamos fibras inteligentes que regulam a temperatura corporal, proporcionando conforto térmico em qualquer estação.</p>
        <p>Cada detalê é pensado para oferecer uma experiência única de uso, desde o toque suave do tecido até a liberdade de movimento.</p>
    </div>
</section>

<!-- FOOTER -->
<footer>
    <div class="footer-end">
        <div class="footer-col">
            <h4>Zados</h4>
            <div class="social">
                <a href="#"><img src="{{ url_for('static', path='uploads/FacebookIcon.png') }}" alt="Facebook"/></a>
                <a href="#"><img src="{{ url_for('static', path='uploads/IGIcon.png') }}" alt="Instagram"/></a>
                <a href="#"><img src="{{ url_for('static', path='uploads/YTIcon.png') }}" alt="Youtube"/></a>
            </div>
        </div>
        <div class="footer-col">
            <h4>Camisetas</h4>
            <ul>
                <li><a href="#produtos-grid">Oversize</a></li>
                <li><a href="#produtos-grid">Regata</a></li>
                <li><a href="#produtos-grid">Manga-longa</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h4>Camisas</h4>
            <ul>
                <li><a href="#produtos-grid">Polo</a></li>
                <li><a href="#produtos-grid">Social</a></li>
                <li><a href="#produtos-grid">Colarinho longo</a></li>
            </ul>
            <a class="saiba_btn" href="/sobre">Saiba Mais</a>
        </div>
    </div>
</footer>

<script>
    // ===== FUNÇÕES DA SIDEBAR (IGUAL AO DASHBOARD) =====
    function toggleUserSidebar() {
        const sidebar = document.getElementById('userSidebar');
        const overlay = document.getElementById('sidebarOverlay');
        
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
        
        if (sidebar.classList.contains('active')) {
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = '';
        }
    }

    // Fechar sidebar com ESC
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            const sidebar = document.getElementById('userSidebar');
            if (sidebar.classList.contains('active')) {
                toggleUserSidebar();
            }
        }
    });

    // ===== SISTEMA DE FILTRO =====
    document.addEventListener('DOMContentLoaded', function() {
        const mapaCores = {
            'preto': '#000000', 'branco': '#ffffff', 'vermelho': '#ff0000',
            'azul': '#0000ff', 'verde': '#008000', 'cinza': '#808080',
            'bege': '#f5f5dc', 'rosa': '#ff69b4', 'amarelo': '#ffff00',
            'laranja': '#ffa500', 'roxo': '#800080', 'marrom': '#8b4513'
        };
        
        // Aplicar cores às bolinhas
        document.querySelectorAll('.cor-bolinha').forEach(bolinha => {
            const corTitle = bolinha.getAttribute('data-cor');
            if (corTitle) {
                const corLower = corTitle.toLowerCase().split(' ')[0];
                const corCSS = mapaCores[corLower] || '#cccccc';
                bolinha.style.backgroundColor = corCSS;
            }
        });
        
        // Configurar filtros
        const filtros = document.querySelectorAll('.filtro select');
        const produtos = document.querySelectorAll('.produto-card');
        
        filtros.forEach(filtro => {
            filtro.addEventListener('change', aplicarFiltros);
        });
        
        function aplicarFiltros() {
            const categoria = document.getElementById('categoria').value;
            const tamanho = document.getElementById('tamanho').value;
            const cor = document.getElementById('cor').value;
            const ordem = document.getElementById('ordem').value;
            const preco = document.getElementById('preco').value;
            
            let produtosVisiveis = [];
            let produtosFiltrados = 0;
            
            produtos.forEach(produto => {
                const prodCategoria = produto.getAttribute('data-categoria');
                const prodTamanho = produto.getAttribute('data-tamanho');
                const prodCor = produto.getAttribute('data-cor');
                const prodPreco = parseFloat(produto.getAttribute('data-preco'));
                
                const categoriaMatch = !categoria || prodCategoria.includes(categoria);
                const tamanhoMatch = !tamanho || prodTamanho === tamanho;
                const corMatch = !cor || prodCor === cor;
                
                let precoMatch = true;
                if (preco) {
                    if (preco === '0-50') precoMatch = prodPreco <= 50;
                    else if (preco === '50-100') precoMatch = prodPreco > 50 && prodPreco <= 100;
                    else if (preco === '100-150') precoMatch = prodPreco > 100 && prodPreco <= 150;
                    else if (preco === '150+') precoMatch = prodPreco > 150;
                }
                
                const mostraProduto = categoriaMatch && tamanhoMatch && corMatch && precoMatch;
                
                if (mostraProduto) {
                    produto.style.display = 'block';
                    produtosVisiveis.push(produto);
                    produtosFiltrados++;
                } else {
                    produto.style.display = 'none';
                }
            });
            
            ordenarProdutos(produtosVisiveis, ordem);
        }
        
        function ordenarProdutos(produtosArray, ordem) {
            const container = document.querySelector('.produtos-grid');
            
            // Remove todos os produtos
            produtos.forEach(produto => {
                if (produto.parentNode === container) {
                    container.removeChild(produto);
                }
            });
            
            // Ordena o array
            switch(ordem) {
                case 'menor-preco':
                    produtosArray.sort((a, b) => {
                        const precoA = parseFloat(a.getAttribute('data-preco'));
                        const precoB = parseFloat(b.getAttribute('data-preco'));
                        return precoA - precoB;
                    });
                    break;
                    
                case 'maior-preco':
                    produtosArray.sort((a, b) => {
                        const precoA = parseFloat(a.getAttribute('data-preco'));
                        const precoB = parseFloat(b.getAttribute('data-preco'));
                        return precoB - precoA;
                    });
                    break;
                    
                case 'nome':
                    produtosArray.sort((a, b) => {
                        const nomeA = a.getAttribute('data-nome');
                        const nomeB = b.getAttribute('data-nome');
                        return nomeA.localeCompare(nomeB);
                    });
                    break;
            }
            
            // Adiciona de volta ordenados
            produtosArray.forEach(produto => container.appendChild(produto));
        }
        
        aplicarFiltros();
    });
    
    // ===== FUNÇÃO VER MAIS =====
    function verMaisProdutos() {
        const produtos = document.querySelectorAll('.produto-card');
        produtos.forEach(produto => {
            produto.style.display = 'block';
        });
        document.getElementById('verMaisBtn').style.display = 'none';
    }
    
    // ===== VERIFICAÇÃO DE AUTENTICAÇÃO =====
    function checkAuthStatus() {
        const hasToken = document.cookie.includes('token=');
        const userIcon = document.querySelector('.user-icon-header');
        const loginButton = document.querySelector('.botao_entrar');
        
        if (hasToken && userIcon) {
            userIcon.style.display = 'flex';
            if (loginButton) loginButton.style.display = 'none';
        } else if (loginButton) {
            loginButton.style.display = 'inline-flex';
            if (userIcon) userIcon.style.display = 'none';
        }
    }
    
    document.addEventListener('DOMContentLoaded', checkAuthStatus);
</script>
    
</body>
</html>