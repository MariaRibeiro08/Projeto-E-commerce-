<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="{{ url_for('static', path='uploads/Logo_SF_Branca.PNG') }}" type="image/x-icon">
<title>Zados - Catálogo</title>

<style>
/* RESET */
* {margin:0; padding:0; box-sizing:border-box;}
body {font-family:'Inter', sans-serif; background:#fff; color:#000; line-height:1.6; overflow-x:hidden;}

/* HEADER */
header {
    position: relative;
    background: url("{{ url_for('static', path='uploads/INIC.PNG') }}") no-repeat center/cover;
    padding: 150px 60px 50px 60px;
    text-align: center;
    color: #fff;
    height: 700px;
}

.logo{
    position:absolute;
    top:20px;
    left:20px;
    width:170px;
}

nav {
    position:absolute;
    top:20px;
    right:40px;
    display:flex;
    align-items:center;
    gap: 30px;
    margin: 20px;
}

nav a {
    text-decoration:none;
    color:#fff;
    font-size:18px;
    padding:6px 8px;
    transition:0.3s;
}

nav a:hover {
    color:#ccc;
}

.headerimg img {
    width:45px;
}

.botao_entrar {
    background:#fff; 
    color:#000; 
    border:none; 
    padding:10px 20px; 
    border-radius:6px; 
    cursor:pointer; 
    transition:0.3s;
    height: 50px;
}
.botao_entrar:hover {
    background:#000; 
    color:#fff;
}

.ttl h1 {
    font-size:60px; 
    margin-top:50px;
}
.meio {
    margin-top:20px; 
    font-size:24px;
}
.meio a {
    padding:15px 25px; 
    font-size:18px; border:none; 
    border-radius:6px; 
    cursor:pointer; 
    background:#fff; 
    color:#000; 
    transition:0.3s;
    text-decoration: none;
}
    
.meio a:hover {
    background:#000; 
    color:#fff;
}

/* COLEÇÃO E ALTA TECNOLOGIA */
.colecao, .alt_tec {
    display:flex; 
    align-items:center; 
    justify-content:space-between; 
    margin:60px auto; 
    max-width:1200px; 
    flex-wrap:wrap;
}
.colecao img, .alt_tec img {
    width:550px; 
    border-radius:8px; 
    margin:20px;
}
.clc_txt h3, .alt_txt h3 {
    font-size:40px; 
    margin-bottom:15px;
}
.clc_txt p, .alt_txt p {
    font-size:20px; 
    color:gray; 
    margin-bottom:20px;
}
.btns {
    display:flex; 
    gap:15px;
}
.btn_clc, .btn_clc1, .btn_alt {
    padding:15px 30px; 
    border:none; 
    border-radius:6px; 
    cursor:pointer; 
    font-size:18px; 
    transition:0.3s;
}
.btn_clc {
    background:#000; 
    color:#fff;
}
.btn_clc1 {
    background:#d8d8d8; 
    color:#000;
}
.btn_alt {
    background:#000; 
    color:#fff;
    text-decoration: none;
}
.btn_clc:hover {
    background:#555;
}
.btn_clc1:hover {
    background:#bbb;
}
.btn_alt:hover {
    background:#555;
}

/* PRODUTOS */
.produtos {
    max-width:1200px; 
    margin:60px auto; 
    padding:0 20px;
}
.produtos h2 {
    text-align:center; 
    font-size:40px; 
    margin-bottom:40px;
}
.produtos-grid {
    display:grid; 
    grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); 
    gap:30px;
}
.produto-card {
    background:#fff; 
    border-radius:10px; 
    box-shadow:0 2px 8px rgba(0,0,0,0.1); 
    overflow:hidden; 
    text-align:center; 
    padding-bottom:15px; 
    transition:0.3s;
}
.produto-card:hover {
    transform:translateY(-4px);
}
.produto-card img {
    width:100%; 
    height:300px; 
    object-fit:cover;
}
.produto-info {
    padding:10px;
}
.produto-info h3 {
    font-size:20px; 
    margin:10px 0;
}
.produto-info p {
    font-size:16px; 
    color:gray; 
    margin-bottom:10px;
}
.produto-info span {
    font-weight:bold; 
    font-size:18px;
}

/* CORES DISPONÍVEIS - NOVO ESTILO */
.cores-disponiveis {
    display:flex; 
    justify-content:center; 
    gap:8px; 
    margin:10px 0;
    flex-wrap: wrap;
}

.cor-bolinha {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    border: 2px solid #ddd;
    cursor: pointer;
    transition: transform 0.15s ease, border-color 0.15s;
    display: inline-block;
}

.cor-bolinha:hover {    
    transform: scale(1.15);
    border-color: #000;
}

.cor-bolinha.ativa {
    border-color: #0078ff;
    transform: scale(1.1);
}

.cores-label {
    font-size: 12px;
    color: #666;
    margin-bottom: 5px;
    text-align: center;
}

.btn_ver{
    padding:14px; 
    background:#000; 
    color:#fff; 
    border:none; 
    border-radius:6px; 
    cursor:pointer; 
    text-decoration:none;
    transition: 0.3s;
    margin-top: 10px;
    display: inline-block;
}

.btn_ver:hover {
    background:#ccc; 
    color:#000;
}

/* VER MAIS */
.ver_mais {
    text-align:center; 
    margin:40px;
}
.ver_mais button {
    padding:15px 30px; 
    font-size:18px; 
    border:none; 
    border-radius:6px; 
    background:#e6e6e6; 
    cursor:pointer;
}
.ver_mais button:hover {
    background:#ccc;
}

/* FOOTER */
footer {
    margin-top:60px;
}
.footer-end {
    display:grid; 
    grid-template-columns:repeat(3,1fr); 
    gap:40px; 
    background:#f5f5f5; 
    padding:50px 60px;
}
.footer-col h4 {
    font-size:20px; 
    margin-bottom:15px;
}
.footer-col ul {
    list-style:none; 
    padding:0;
}
.footer-col ul li {
    margin:6px 0;
}
.footer-col ul li a {
    text-decoration:none; 
    color:#000;
}
.footer-col .social img {
    width:30px; 
    margin-top:10px;
}
.saiba_btn {
    background:transparent; 
    border:none; 
    cursor:pointer; 
    font-size:16px;
    color: #000;
    text-decoration: none;
}
.footer-end{
    background: url("{{ url_for('static', path='uploads/Footer-home.png') }}") no-repeat center/cover;  
}
.saiba_btn{
    font-size: 16x;
    margin-top: 20px; 
    height: 20px;
    background-color: rgba(255, 255, 255, 0);
    cursor: pointer;
    border-color: #00000000;
    border-radius: 2px;
    box-shadow: 1px 1px 1rem #3333334d;
}

/* FILTRO POR CATEGORIA */
.filtro-categorias {
    text-align: center;
    margin: 20px 0 40px 0;
}

.filtro-categorias select {
    padding: 10px 15px;
    border: 2px solid #000;
    border-radius: 6px;
    font-size: 16px;
    background: white;
    cursor: pointer;
}

.filtro-categorias select:hover {
    border-color: #0078ff;
}
</style>
</head>
<body>

<!-- HEADER -->
<header>
    <img class="logo" src="{{ url_for('static', path='uploads/Logo_SF_Branca.png') }}" alt="Logo_Zados">
    <nav>
      <a href="/home" class="nav_item">HOME</a>
      <a href="/home" class="headerimg"><img src="{{ url_for('static', path='uploads/casa_branca.png') }}" alt="home"></a>
      <a href="/carrinho" class="nav_item">CARRINHO</a>
      <a href="/carrinho" class="headerimg"><img src="{{ url_for('static', path='uploads/carrinho_branco.png') }}" alt="carrinho"></a>
        {% if is_admin %}
            <a href="/lista_adm">Área Admin</a>
        {% endif %}
        
        {% if usuario %}
            <a href="/logout" class="botao_entrar">SAIR</a>
        {% else %}
            <a class="botao_entrar" href="/login">ENTRAR</a>
        {% endif %}
    </nav>
    <div class="ttl"><h1>ZADOS</h1></div>
    <div class="meio"><p>Trazendo para você a melhor solução</p><br><a class="busca_btn" href="/busca" >Busca</a></div>
</header>


<!-- NOVA COLEÇÃO -->
<section class="colecao">
    <div class="clc_txt">
        <h3>Nova Coleção</h3>
        <p>Explore nossa nova coleção de camisas nesse verão.</p>
        <div class="btns">
            <button class="btn_clc" onclick="window.location.href='/'">Comprar peças</button>
            <button class="btn_clc1" onclick="window.location.href='/carrinho'">Adicionar carrinho</button>
        </div>
    </div>
    <img src="{{ url_for('static', path='uploads/Nova Coleção Catalogo.PNG') }}" alt="Nova_Coleção"/>
</section>

<!-- ALTA TECNOLOGIA -->
<section class="alt_tec">
    <img src="{{ url_for('static', path='uploads/Alta tecnologia catalogo.PNG') }}" alt="Alta_Tecnologia"/>
    <div class="alt_txt">
        <h3>Alta Tecnologia</h3>
        <p>Peças feitas visando o seu conforto</p>
        <a class="btn_alt" href="/busca">Ver Produtos</a>
    </div>
</section>

<!-- PRODUTOS EM DESTAQUE -->
<section class="produtos">
    <h2>PRODUTOS</h2>
    <div class="produtos-grid" id="produtos-grid">
        {% for produto in produtos %}
        <div class="produto-card" data-categoria="{{ produto.categoria_id or '' }}">
            <img src="{{ url_for('static', path='uploads/' + produto.imagem) if produto.imagem else url_for('static', path='default.png') }}" 
                 alt="{{ produto.nome }}" 
                 onerror="this.src='{{ url_for('static', path='default.png') }}'">
            <div class="produto-info">
                <h3>{{ produto.nome }}</h3>
                
                <!-- SEMPRE mostra a bolinha da cor atual -->
                <div class="cores-label">Cores Disponíveis:</div>
                <div class="cores-disponiveis">
                    <div class="cor-bolinha ativa" 
                        data-cor="{{ produto.cor }}"
                        title="{{ produto.cor }}">
                    </div>
                    
                    <!-- Mostra outras cores SE existirem -->
                    {% if produto.outras_cores %}
                        {% for cor in produto.outras_cores %}
                        <div class="cor-bolinha" 
                            data-cor="{{ cor }}"
                            title="{{ cor }}"></div>
                        {% endfor %}
                    {% endif %}
                </div>

                <!-- Label só aparece se tiver outras cores -->
                <p>{{ produto.descricao[:100] }}{% if produto.descricao and produto.descricao|length > 100 %}...{% endif %}</p>
                <span>R$ {{ "%.2f"|format(produto.preco) }}</span><br>
                
                {% if produto.categoria %}
                <small style="color: #666; font-size: 12px;">Categoria: {{ produto.categoria.nome }}</small><br>
                {% endif %}
                
                <a href="/produtos/{{ produto.id }}" class="btn_ver">Ver mais</a>
            </div>
        </div>
        {% endfor %}
    </div>

    {% if produtos|length > 6 %}
    <div class="ver_mais">
        <button id="verMaisBtn" onclick="verMaisProdutos()">Ver Mais</button>
    </div>
    {% endif %}
</section>

<!-- FOOTER -->
<footer>
    <div class="footer-end">
        <div class="footer-col">
            <h4>Zados</h4>
            <div class="social">
                <a href="#"><img src="{{ url_for('static', path='uploads/FacebookIcon.png') }}" alt="Facebook"/></a>
                <a href="#"><img src="{{ url_for('static', path='uploads/IGIcon.png') }}" alt="Instagram"/></a>
                <a href="#"><img src="{{ url_for('static', path='uploads/YTIcon.png') }}" alt="Youtube"/></a>
            </div>
        </div>
        <div class="footer-col">
            <h4>Camisetas</h4>
            <ul>
                <li><a href="/categoria/1">Oversize</a></li>
                <li><a href="/categoria/2">Regata</a></li>
                <li><a href="/categoria/3">Manga-longa</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h4>Camisas</h4>
            <ul>
                <li><a href="/categoria/4">Polo</a></li>
                <li><a href="/categoria/5">Social</a></li>
                <li><a href="/categoria/6">Colarinho longo</a></li>
                <a class="saiba_btn" href="/sobre">Saiba Mais</a>
            </ul>
        </div>
    </div>
</footer>

<script>
    // Mapa de cores para CSS
    const mapaCores = {
        'preto': '#000000',
        'branco': '#ffffff', 
        'vermelho': '#ff0000',
        'azul': '#0000ff',
        'verde': '#008000',
        'cinza': '#808080',
        'bege': '#f5f5dc',
        'rosa': '#ff69b4',
        'amarelo': '#ffff00',
        'laranja': '#ffa500',
        'roxo': '#800080',
        'marrom': '#8b4513'
    };

    // Aplica cores às bolinhas
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.cor-bolinha').forEach(bolinha => {
            const corTitle = bolinha.getAttribute('title');
            if (corTitle) {
                const corLower = corTitle.toLowerCase().split(' ')[0]; // Pega primeira palavra
                const corCSS = mapaCores[corLower] || '#cccccc';
                bolinha.style.backgroundColor = corCSS;
            }
        });
    });

    // Filtro por categoria
    function filtrarPorCategoria(categoriaId) {
        if (categoriaId) {
            window.location.href = `/categoria/${categoriaId}`;
        } else {
            window.location.href = '/';
        }
    }

    // Filtro por cor (futura implementação)
    function filtrarPorCor(cor, categoriaId) {
        // Aqui você pode implementar filtro por cor
        console.log(`Filtrar por cor: ${cor}, categoria: ${categoriaId}`);
        // Por enquanto só mostra um alerta
        alert(`Mostrando produtos na cor ${cor}`);
    }

    // Ver mais produtos
    function verMaisProdutos() {
        const produtos = document.querySelectorAll('.produto-card');
        produtos.forEach(produto => {
            produto.style.display = 'block';
        });
        document.getElementById('verMaisBtn').style.display = 'none';
    }

    // Aplica cores às bolinhas (apenas visual)
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.cor-bolinha').forEach(bolinha => {
            const corNome = bolinha.getAttribute('data-cor');
            if (corNome) {
                const corLower = corNome.toLowerCase().split(' ')[0];
                const corCSS = mapaCores[corLower] || '#cccccc';
                bolinha.style.backgroundColor = corCSS;
            }
        });
    });
</script>
    
</body>
</html>